
<!DOCTYPE html>
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <title>PatternAgents: The BLOB - Binary Level OBjects</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <meta name="robots"          content="index, follow, noodp, noydir" />
  <meta name="description"     content="PatternAgents: The Agency of Design Patterns" />
  <meta name="abstract"        content="PatternAgents provides collaboration, community and commerce for electronics designers." />
  <meta name="classification"  content="electronics, electronics design, design engineering" />
  <meta name="keywords"        content="electronics, electronics design, design engineering, open source software, open source hardware, OSHW" />

  <link rel="apple-touch-icon" type="image/png" href="/img/logos/apple-touch-icon-144x144.png" />
  <!--  <link rel="icon" type="image/png" href="http://www/patternagents.com/img/logos/apple-touch-icon.png"/>  -->

  <!-- Ubuntu for logo -->
  <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,700' rel='stylesheet' type='text/css'>

<!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/app-old-ie.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/app.css">
<!--<![endif]-->
  
<!-- Begin MailChimp Signup Form -->
 <link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css">
 <style type="text/css">
	#mc_embed_signup{position:absolute; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,.8); display:block; z-index:10000; }
	#mc_embed_signup form{position:fixed; top:5%; left:5%; right:5%; bottom:5%; width:60%; font:normal 100% Helvetica,Arial,sans-serif; font-size:14px; border-radius:4px; border:3px; padding:10px; background-color:#eee; color:#000; text-align:left;max-height:800px;overflow-y:auto;overflow-x:hidden;}
	#mc_embed_signup a.mc_embed_close{background:transparent url(http://downloads.mailchimp.com/img/closebox.png) no-repeat; display:block; height:30px; width:30px; text-indent:-999em; position:absolute; top:10px; right:10px; display:none; }
 </style>

<!-- Begin Google Analytics -->
 <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38592761-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>

</head>

<body class="">
 




















<header>
  <div class="head-container">
	  <div class="col">
	    <a href="/">
	      <h1>Pattern&#8203;<b>Agents</b> <span class="tag-line">Connecting the electronics design community</span></h1>
	    </a>
	  </div>
  </div>
</header>



<div class="row"><div class="col">
<nav class="toggle">
  <h2><a href="#" title="(click to expand)"><span class="menu-icon">&#9776;</span> Go to:</a></h2>
  <ul>
    <li class="nav-store"><a href="/store/index.html">Store</a></li>
    <li class="nav-projects"><a href="/projects/index.html">Projects</a></li>
    <li class="nav-support"><a href="/support/index.html">Support</a></li>
    <li class="nav-about"><a href="/about/index.html">About</a></li>
    <li class="nav-news"><a href="/news/index.html">News</a></li>
  </ul>
</nav>
</div></div>


  

<main class="row">
  
  <div class="col major">
    
  
  <article role="article">
    <header>
      
        <h1 class="entry-title">The BLOB - Binary Level OBjects</h1>
      
      
        <p class="meta">
          
        </p>
      
    </header>
    <div class="entry-content">
  
  
  

<blockquote>
	<p>Obstacles are those frightful things you see when you take your eyes off your goal.</p>
	<p>&mdash;Henry Ford</p>
</blockquote>

<p>There are a number of different metadata formats for containing low-level configuration information,
some of them are in plain ASCII text, and others are in various encoded binary formats. The encoded binary formats, or 
Binary Level OBjects, are commonly referred to as  "BLOBs". In this article, I will discuss how some of those formats
are being used in existing products.
</p>
<!-- more -->
<p>
<img class="illo" src="/img/news/theblob/Blob-Town.png" width="320" height="300" alt="Blob Town" title="Blob Town"/>
Let's start with the <a href="http://www.devicetree.org/Device_Tree_Usage">DeviceTree</a> format, 
which is often utilized in describing the hardware of higher end platforms to the Linux Kernal. 
The <a href="http://www.devicetree.org/Device_Tree_Usage">DeviceTree</a> definition starts with a
<a href="http://lxr.free-electrons.com/source/arch/arm/boot/dts/imx28-evk.dts">DeviceTree Specification File</a>
also known as a .dts file. The <a href="http://lxr.free-electrons.com/source/arch/arm/boot/dts/imx28-evk.dts">DeviceTree Specification File</a>
is a human readable definiton of everything about the embedded platform, including CPU type, amount of memory, internal buses (AHB/APB/etc.),
and all the relevent interfaces, like USB, UART, PCI, SPI/MMC, Ethernet MAC, GPIO pins, Pin Multiplexing, and more. 
It is a very complete specification of the underlying hardware platform. 
The <a href="http://lxr.free-electrons.com/source/arch/arm/boot/dts/imx28-evk.dts">DeviceTree Specification File</a>
is then run through the <a href="http://www.devicetree.org/Device_Tree_Compiler">DeviceTree Compiler</a> which produces the 
<a href="http://www.devicetree.org/Device_Tree_Compiler">DeviceTree Binary Object</a> (i.e. The Blob) which is also known as the ".dtb" file.
The <a href="http://www.devicetree.org/Device_Tree_Compiler">DeviceTree Binary Object</a> (i.e. The Blob of the "Flattened Device Tree") is
typically read in as part of the operating system booting procedure, and used to determine what device drivers are loaded into the operating system.
I'll go into how this process works in much more detail in a later article, but that's the basic idea of a compiled Device Tree.   
</p>
<p>
So how does this process relate to the <a href="http://www.intel.com/content/www/us/en/servers/ipmi/information-storage-definition-rev-1-2.html">IPMI FRU</a> : (Intelligent Peripheral Management Interface - Field Replaceable Unit) data structure definition for add-on boards,
and the <a href="http://standards.ieee.org/findstds/standard/1451.4-2004.html">TEDS</a> (Transducer Electronic Data Sheet)
data structure definition for attached Sensor devices? The following diagram depicts their relationship :
</p>
<p>
<img src="/img/news/theblob/blobs-diagram.png" alt="Embedded Blobs" title="Embedded Blobs"/>
</p>
<p>
So, to put this all together in a more simple explaination :
<ul>
<li>During the Main Board boot-up sequence, the <a href="http://www.devicetree.org/Device_Tree_Usage">DeviceTree</a> BLOB is
    parsed to determine all of the hardware interfaces contained on the Main Board.</li>
<li>After the initial Main Board boot-up sequence, the 
    <a href="http://www.intel.com/content/www/us/en/servers/ipmi/information-storage-definition-rev-1-2.html">IPMI FRU</a> is
    parsed to determine the make and model of the attached Expansion Board, which identifies the attached Sensors.
</li>
<li>Then the <a href="http://standards.ieee.org/findstds/standard/1451.4-2004.html">TEDS</a> BLOBs are each  
    parsed to determine the parameters of the attached Sensors.
</li>
<li>Finally, the Operating System (Linux/Android) has all the information necessary to read and interpret the attached Sensors.</li>
</ul>
</p>
<p>
That is a very quick overview of what is a highly complex process for automatic discovery and configuration, 
based on currently used standards. The upshot of all of this is that at least three (3) separate and
distinct parsers (namely DeviceTree, IPMI FRU, and TEDS, respectively) are required to put all of this together. 
For an embedded Linux system, such as a Xilinx Zynq based system, or an ARM A8/A9 class system, 
we are talking about a fairly large amount of code to implement each of the different parsers 
required to extract the necessary information. Do we really need three (3) or different ways (or more...)
to encode similar data like this? Isn't there a more uniform way to accomplish this? 
</p>
<p>
As one of my engineering buddies used to say, 
<i>"Standards are great, and there are so many incompatible ones to choose from!"</i>
Clearly this kind of approach is going to be more difficult on resource constrained small systems,
such as the Arduino, rfDuino, and TI LaunchPad. So, what can we do to improve the current state of the art here?
</p>
<p>
In our next segment, we'll discuss several of the evolving standards for Sensor Parameters
that are being used in Sensor Hub and Sensor Fusion implementations, and what that means
for developing an all encompassing method of automatic discovery and configuration
on small form factor embedded platforms.
</p>
<p>
<table border="0">
<tr>
<td>
And finally, for your viewing pleasure, the original trailer for the 1958 feature "The Blob",
starring a very young Steve McQueen. I still remember the first time I saw this movie, in
a Drive-In Theater with my parents and family, in a
<a href="https://www.youtube.com/watch?v=eOm5P1AkUi4">Studebaker Wagonaire</a>.
</td>
<td>
  <div class="container.four-three">
	  <iframe width="427" height="255" src="//www.youtube.com/embed/TdUsyXQ8Wrs?HD=1;rel=0;showinfo=0;controls=0" frameborder="0" allowfullscreen></iframe>
  </div>
</td>
</tr>
</table>
</p>


<p>

</p>

</div>
    <footer>
      <p class="meta">
        January 25, 2015
      </p>
      <p class="meta">
        
          <a class="previous" href="/news/2015/01/23/the-great-chain.html" title="Previous Post: Automatic Configuration Chains">&laquo; Automatic Configuration Chains</a>
        
        
          <a class="next" href="/news/2015/01/27/sensor-abilities.html" title="Next Post: Sense and Sensor Abilities">Sense and Sensor Abilities &raquo;</a>
        
      </p>
    </footer>
  </article>


  </div>
  <div class="col minor">
    
  <h2>Featured Projects</h2>
  <ul class="post-list">
  
    
      
    
      
    
      
    
      
        <li>
          <a href="/projects/Hula_Poppy.html">Hula Poppy - Pmod Lure for the Intel MinnowBoard</a>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
    
      
    
      
    
      
    
      
        <li>
          <a href="/projects/TouchWidget_HowTo.html">TouchWidgets How-To Example Project</a>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          <a href="/projects/Caldi.html">Caldi - I2C PyroInfraRed Grid Array Sensor</a>
        </li>
      
    
  
</ul>
  <h2>Latest News</h2>
  <ul class="post-list">
  
    <li>
      <a href="/news/2015/01/29/devicetree-overlays.html">Device Tree Overlays</a>
    </li>
  
    <li>
      <a href="/news/2015/01/28/devicetree-overview.html">Device Tree Overview</a>
    </li>
  
    <li>
      <a href="/news/2015/01/27/sensor-abilities.html">Sense and Sensor Abilities</a>
    </li>
  
    <li>
      <a href="/news/2015/01/25/the-blob.html">The BLOB - Binary Level OBjects</a>
    </li>
  
    <li>
      <a href="/news/2015/01/23/the-great-chain.html">Automatic Configuration Chains</a>
    </li>
  
    <li>
      <a href="/news/2015/01/22/SFF-SelfConfig.html">Small Form Factor Auto-Configuration</a>
    </li>
  
    <li>
      <a href="/news/2013/12/26/Hula-Poppy-Lure-minnow-board.html">Hula Poppy Lure for MinnowBoard</a>
    </li>
  
    <li>
      <a href="/news/2013/12/24/minnow-board-lures.html">MinnowBoard Lures Library</a>
    </li>
  
    <li>
      <a href="/news/2013/12/02/touchwidget-best-practices.html">Touch Widgets - Best Practices</a>
    </li>
  
    <li>
      <a href="/news/2013/11/29/touch-widgets-howto.html">Touch Widgets How-To/Instructions</a>
    </li>
  
    <li>
      <a href="/news/2013/11/24/eagle-touch-widgets-library.html">Touch Widgets Library for Eagle</a>
    </li>
  
    <li>
      <a href="/news/2013/11/20/capacitive-sensing-introduction.html">Capacitance Sensing Introduction</a>
    </li>
  
    <li>
      <a href="/news/2013/11/14/building-your-new-widget.html">Building Your New Widget</a>
    </li>
  
    <li>
      <a href="/news/2013/11/11/eaglecad-libraries.html">EagleCAD Libraries</a>
    </li>
  
    <li>
      <a href="/news/2013/11/09/quattrocycle-update.html">Quattrocycle Lighting Update</a>
    </li>
  
    <li>
      <a href="/news/2013/09/13/portland-maker-faire.html">Portland Mini-Maker Faire</a>
    </li>
  
    <li>
      <a href="/news/2013/07/09/arduino-yun-the-next-generation.html">Arduino Y'un - The Next Generation</a>
    </li>
  
    <li>
      <a href="/news/2013/07/08/minnow-board-small-form-factor.html">The Minnow Board - A New Small Form Factor</a>
    </li>
  
    <li>
      <a href="/news/2013/07/07/microcontroller-small-form-factors.html">Small Form Factors for Embedded Devices</a>
    </li>
  
</ul>


  </div>

</main>
   

<form id="signup"
      action="http://patternagents.us5.list-manage.com/subscribe/post?u=d606135278a28bf2e4504c9ef&id=34ecdcaa40"
      method="post"
      id="mc-embedded-subscribe-form"
      name="mc-embedded-subscribe-form"
      class="validate"
      target="_blank"
      novalidate>
  <div class="row"><div class="col">
    
  <div class="row collapse">
      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <button class="postfix" type="submit">Subscribe</button>
  </div>
  </div></div>
</form>
   <!-- Add the discussion widget -->
   

<!-- discus panel -->
<!-- place "comments: true" in the YAML front matter to enable comments in that page -->

<div class="panel" id="disqus_thread"></div>

   

<footer>
  <div class="row">
    <div class="col half">
      <div class="row">
        <div class="col quarter">
          <ul class="social-icons">
           <li><a href="https://twitter.com/PatternAgents" title="twitter"><img src="/img/logos/white/twitter.png"></a></li>
            <li><a href="https://github.com/PatternAgents" title="github"><img src="/img/logos/white/github.png"></a></li>
            <li><a href="http://www.linkedin.com/company/3092259" title="linkedin"><img src="/img/logos/white/linkedin.png"></a></li>
            <li><a href="https://www.facebook.com/pages/PatternAgents/" title="facebook"><img src="/img/logos/white/facebook.png"></a></li>
            <li><a href="http://pinterest.com/patternagents" title="pinterest"><img src="/img/logos/white/pinterest.png"></a></li>
          </ul>
        </div>
        <div class="col quarter">
            <h2><a href="/contact/index.html">Contact</a></h2>
            <ul>
              <li><a href="/contact/press.html">Press</a></li>
              <li><a href="/contact/investors.html">Investors</a></li>
              <li><a href="/licensing/index.html">Licensing</a></li>
              <li><a href="/contact/credits.html">Credits</a></li>
            </ul>
        </div>
      </div>
    </div>
    <div class="col half">
      <div class="row">
        <div class="col quarter">
          <h2><a href="/about/index.html">About Us</a></h2>
          <ul>
            <li><a href="/about/manufacturers.html">For Manufacturers</a></li>
            <li><a href="/about/distributors.html">For Distributors</a></li>
            <li><a href="/about/representatives.html">For Representatives</a></li>
          </ul>
        </div>
        <div class="col quarter">
          <h2><a href="/policies/index.html">Policies</a></h2>
          <ul>
            <li><a href="/policies/shipping.html">Shipping</a></li>
            <li><a href="/policies/returns.html">Returns</a></li>
            <li><a href="/policies/legal/index.html">Legal</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row unimportant">
    <div class="col quarter"><p>Copyright &copy; 2010-2015 PatternAgents</p></div>
  </div>
</footer>

<script src="/js/lib/jquery.js"></script>


<!-- disqus widget script -->
<script type="text/javascript">
  var disqus_shortname = 'patternagents';
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- pinterest widget script -->
<script type="text/javascript">
(function(d){
  var f = d.getElementsByTagName('SCRIPT')[0], p = d.createElement('SCRIPT');
  p.type = 'text/javascript';
  p.async = true;
  p.setAttribute('data-pin-color', 'red');
  p.setAttribute('data-pin-hover', 'true');
  p.src = '//assets.pinterest.com/js/pinit.js';
  f.parentNode.insertBefore(p, f);
}(document));
</script>
<!-- toggle menu -->
<script>
  $(function() {
    var $navToggle = $('nav.toggle');
    $navToggle.addClass('collapsed');
    $navToggle.find('h2').bind('click focus', function() {
      // if we want to get fancy, we can animate the max-height here
      $navToggle.toggleClass('collapsed');
    });
  });
</script>




  






</body>
</html>
