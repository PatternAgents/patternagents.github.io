
<!DOCTYPE html>
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <title>PatternAgents: Touch Widgets Library for Eagle</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <meta name="robots"                  content="noodp, noydir, noarchive"         />
  <meta name="description"        content="Touch Widgets Library for Eagle"    />
  <meta name="abstract"              content="Touch Widgets Library for Eagle - methods and tools for adding capacitive sensing to your projects"       />
  <meta name="classification"  content="electronics, electronics design, design engineering" />
  <meta name="keywords"              content="capacitance, capacitive sensing, capsense, touch, captouch, mtouch, qtouch, eagle, cad, eaglecad, eagle cad, libraries, open source, make, maker, maker space, arduino, uno, mega, due, yun, schematic, layout, pcb, pcb design"       />

  <link rel="apple-touch-icon" type="image/png" href="/img/logos/apple-touch-icon-144x144.png" />
  <!--  <link rel="icon" type="image/png" href="http://www/patternagents.com/img/logos/apple-touch-icon.png"/>  -->

  <!-- Ubuntu for logo -->
  <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,700' rel='stylesheet' type='text/css'>

<!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/app-old-ie.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/app.css">
<!--<![endif]-->
  
<!-- Begin MailChimp Signup Form -->
 <link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css">
 <style type="text/css">
	#mc_embed_signup{position:absolute; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,.8); display:block; z-index:10000; }
	#mc_embed_signup form{position:fixed; top:5%; left:5%; right:5%; bottom:5%; width:60%; font:normal 100% Helvetica,Arial,sans-serif; font-size:14px; border-radius:4px; border:3px; padding:10px; background-color:#eee; color:#000; text-align:left;max-height:800px;overflow-y:auto;overflow-x:hidden;}
	#mc_embed_signup a.mc_embed_close{background:transparent url(http://downloads.mailchimp.com/img/closebox.png) no-repeat; display:block; height:30px; width:30px; text-indent:-999em; position:absolute; top:10px; right:10px; display:none; }
 </style>

<!-- Begin Google Analytics -->
 <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38592761-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>

</head>

<body class="">
 




















<header>
  <div class="head-container">
	  <div class="col">
	    <a href="/">
	      <h1>Pattern&#8203;<b>Agents</b> <span class="tag-line">Connecting the electronics design community</span></h1>
	    </a>
	  </div>
  </div>
</header>



<div class="row"><div class="col">
<nav class="toggle">
  <h2><a href="#" title="(click to expand)"><span class="menu-icon">&#9776;</span> Go to:</a></h2>
  <ul>
    <li class="nav-store"><a href="/store/index.html">Store</a></li>
    <li class="nav-projects"><a href="/projects/index.html">Projects</a></li>
    <li class="nav-support"><a href="/support/index.html">Support</a></li>
    <li class="nav-about"><a href="/about/index.html">About</a></li>
    <li class="nav-news"><a href="/news/index.html">News</a></li>
  </ul>
</nav>
</div></div>


  

<main class="row">
  
  <div class="col major">
    
  
  <article role="article">
    <header>
      
        <h1 class="entry-title">Touch Widgets Library for Eagle</h1>
      
      
        <p class="meta">
          
        </p>
      
    </header>
    <div class="entry-content">
  
  
  

<blockquote>
	<p>You feel touched and honored and alive when you give to someone.</p>
	<p>&mdash;Daphne Zuniga (Princess Vespa)</p>
</blockquote>

<p>
The PatternAgents Touch Widgets Library for Eagle is a schematic and layout library
that provides the symbols and layouts for commonly used capacitive sensing control surface widgets,
such as Buttons, Linear Sliders, Radial Sliders, X-Y Touchpads and more. 
</p>
<!-- more -->
<p>PatternAgents has been developing professional grade parts libraries for Eagle, 
and we have now included a library of Capacitive Touch Widgets to
provide a number of different control surfaces for your projects.
The PatternAgents EagleCAD Libraries are schematic and PCB layout libraries 
for various electronic components that you can use with the Eagle CAD program.
</p>

<p>
A number of our customers have complained to us how difficult it is
to obtain or create good quality Capacitive Touch Widgets in Eagle, 
so we have spent the past week creating a new library to solve that problem.
The PatternAgents Touch Widgets Library makes Capacitive Touch technology 
available to even the most novice Eagle users.
Creating a good quality Capacitive Touch Widget takes both a understanding
of capacitive sensing fundamentals, as well as an adept usage of the more advanced
Eagle features, such as the tRestrict, bRestrict, vRestrict layers, hatched copper pours
and other tricks. In this posting, we'll explain a little of what went into creating the
PatternAgents Touch Widgets Library, and in the following posting, we'll give a
step-by-step tutorial on how to use it.
</p>
<h3>Anatomy of a Capacitive Sensing Touch Widget</h3>
<p>
Capacitive Sensing buttons are deceptively simple, just a round polygon on the "Top" layer with a pad for a connection right?
</p>
   <img src="/img/news/caps/cap_button_top.png" alt="Simple Button (top view)" title="Simple Button (top view)"/>
<p>
Well there are a number of other things to consider, like the spacing to any surrounding traces or top copper pours,
or using the auto-router ; because you'd really like to use the autorouter, right? Well, if you use just this
simple structure for your layout you will likely wind up with all kinds of problems, like vias in the middle of
your Touch pad button, traces too close that cause interference and other problems. So, the first thing you want to do 
is create another circular polygon in the tRestrict (Top Restrict Layer) that encloses the pad to create a "keep away"
region so other traces don't get routed too close and ruin the operation of your sensor.
</p>
   <img src="/img/news/caps/cap_button_trestrict.png" alt="Simple Button (tRestrict)" title="Simple Button (tRestrict)"/>
<p>
You will likely notice that the enclosing circle on the tRestrict layer is not really a closed circle is it?
That is because of a limitation in Eagle whereby you can't have concentric polygons on the same layer 
without creating a "Dimension" DRC error (and it considers Top and Top Restrict to be the same "logical" layer).
So, what is a part designer to do? Simply create your circular polygon with a small gap in it (it's on the left side
in the above picture). You need to make sure that the gap is wide enough to avoid a "Dimension" DRC error,
but small enough that Eagle won't try to thread a trace though the middle of it!
</p>
<p>
Okay, so we solved one problem, but the Eagle autorouter will still attempt to run a trace underneath on the "Bottom" layer,
and even put a via on the edge of your sensor. So next, we create a new polygon on the vRestrict (Via Restrict) layer,
to prevent any vias that might be added that would interfere with operation of our sensor.  
</p>
   <img src="/img/news/caps/cap_button_vrestrict.png" alt="Simple Button (vRestrict)" title="Simple Button (vRestrict)"/>
<p>
The vRestrict layer can be concentric without creating any "Dimension" DRC errors, so we create it the correct diameter to leave
the required gap around our sensor element. This is really all you need for correct operation, but it would be nice to
add a circle on the top silkscreen layer to give some visual indication that there is a Button here, right?
(We'll turn off the t/vRestrict layters so you can see it better...)
</p>
   <img src="/img/news/caps/cap_button_tplace.png" alt="Simple Button (tPlace)" title="Simple Button (tPlace)"/>
<p>
Because we would like to know where our buttons are when looking at the bottom side of the board, 
we'll put something fun (AgentZero to the rescue!) on the bottom silkscreen, where it won't interfere with the operation of the button.
</p>
   <img src="/img/news/caps/cap_button_bplace.png" alt="Simple Button (bPlace)" title="Simple Button (bPlace)"/>
<p>
And finally, here is what the complete Capacitive Sensing Button Widget looks like :
</p>
   <img src="/img/news/caps/cap_button_complete.png" alt="Simple Button (Complete)" title="Simple Button (Complete)"/>
<p>
So those of you who are paying attention will likely ask, "Well, what about restricting routing on the Bottom Layer, using bRestrict?"
When we place these components on our printed circuit boards (PCB's) we are going to create some top and bottom polygons for "Ground"
(a.k.a. copper Ground pours) and we <b>want</b> that bottom copper pour under our button, so we don't really want to use a blanket
"bRestrict" in the component/package for the sensor. Of course, that can always be added at the top level of your board itself,
if the autorouter is mis-behavin'.
</p>
<p>
This is an example of what the top and bottom layers of the board would look like, rendered here in black and white 
so that you can see the ground plane hatch patterns (i.e. the copper pour)  more easily. You will notice that the 
ground polygon pours are "hatched", and that the top layer pour and the bottom layer pour have different spacings.
</p>
<ul class="illo-list">
  <li>
    <span>
      <img src="/img/news/caps/eagleUp_touch_test_radial_top.png" alt="Radial Test Board (top view)" title="Radial Test Board (top view)"/>
    </span>
  </li>
  <li>
    <span>
      <img src="/img/news/caps/eagleUp_touch_test_radial_bottom.png" alt="Radial Test Board (bottom view)" title="Radial Test Board (bottom view)"/>
    </span>
  </li>
</ul>
<p>
<b>Note Bene:</b> When using the PatternAgents Touch Widgets Library for Eagle make sure that you use the PatternAgents.dru
DRC control file for Eagle, as we have our minimum hole sizes set to 14mils. This makes the vias more like production vias,
and also allows us to utilize 13.5mil magnet wire for fabricating manual vias when using two layer copper blanks 
(i.e. cut or milled PCB's) for testing. Or, if you have you own custom DRC file, than just set the minimum hole size to 14mils,
to avoid getting any "Drill Size" DRC errors.
</p>
<p>
In the next article, we will cover the "Best Practices" for using the PatternAgents Touch Widgets Library for Eagle,
and give a more detailed How-To on adding these components to your projects.
</p>
<p>
These libraries are updated frequently, and you should check for the latest version before generating your PCB's. 
Also note that some footprints are labeled "experimental" in these libraries, so be careful with those.
You should always verify your design against the actual component footprints before fabrication by printing out a 1:1 plot.
</p>
<p>
  For more information on Eagle, see <a href="http://www.cadsoftusa.com/">CadSoft</a>.
</p>


<h3>PatternAgents PCB_Libraries - Files and Downloads</h3>
<ul>
  <li><a href="https://github.com/PatternAgents/PCB_Libraries">PCB_Libraries Github Repo</a></li>
  <li><a href="https://github.com/PatternAgents/PCB_Libraries/zipball/master">PCB_Libraries ZIP Archive</a></li>
  <li><a href="https://github.com/PatternAgents/PCB_Libraries/tarball/master">PCB_Libraries TAR Archive</a></li>
</ul>

<h3>Project Contents</h3>
<ul>
  <li>PatternAgents-TouchWidgets.lbr - Capacitive Sensing Touch Widgets for Buttons, Sliders, Dials, etc.</li>
  <li>PatternAgents-Beautify.lbr - Page Outlines, Power/Gnd Symbols</li>
  <li>PatternAgents-Logos.lbr - Logos for RoHs, ESD, etc.</li>
  <li>PatternAgents-Boards.lbr - PatternAgents PCB board outlines, Arduino and other small form factors</li>
  <li>PatternAgents-Cypress.lbr - Components from Cypress Semiconductor</li>
  <li>PatternAgents-NXP.lbr - Components from NXP (nee Philips)</li>
  <li>PatternAgents-TI-Tiva.lbr - Components from Texas Instruments</li>
</ul>

<p>
The PCB_Libraries Project by PatternAgents, LLC is available and licensed under a Creative Commons Attribution-ShareAlike 4.0 International License
</p></div>
    <footer>
      <p class="meta">
        November 24, 2013
      </p>
      <p class="meta">
        
          <a class="previous" href="/news/2013/11/20/capacitive-sensing-introduction.html" title="Previous Post: Capacitance Sensing Introduction">&laquo; Capacitance Sensing Introduction</a>
        
        
          <a class="next" href="/news/2013/11/29/touch-widgets-howto.html" title="Next Post: Touch Widgets How-To/Instructions">Touch Widgets How-To/Instructions &raquo;</a>
        
      </p>
    </footer>
  </article>


  </div>
  <div class="col minor">
    
  <h2>Featured Projects</h2>
  <ul class="post-list">
  
    
      
        <li>
          <a href="/projects/I2C_Devicetree.html">I2C EEPROM Emulation for Smart Devicetrees</a>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
    
      
    
      
    
      
        <li>
          <a href="/projects/Workshops.html">PatternAgents Workshop Series</a>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          <a href="/projects/TouchWidget_HowTo.html">TouchWidgets How-To Example Project</a>
        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
</ul>
  <h2>Latest News</h2>
  <ul class="post-list">
  
    <li>
      <a href="/news/2016/01/10/thingSoC.html">thingSoC</a>
    </li>
  
    <li>
      <a href="/news/2015/08/25/IoT-RTLS.html">Real-Time Location Systems for IoT</a>
    </li>
  
    <li>
      <a href="/news/2015/06/19/IoT-SoCs.html">New IoT SoCs</a>
    </li>
  
    <li>
      <a href="/news/2015/06/05/devicetree-more-flavors.html">More DeviceTree Flavors!</a>
    </li>
  
    <li>
      <a href="/news/2015/05/21/devicetree-smart-objects.html">Smart Device Trees meet Smart Objects</a>
    </li>
  
    <li>
      <a href="/news/2015/02/09/devicetree-discussions.html">Device Tree Discussions</a>
    </li>
  
    <li>
      <a href="/news/2015/02/06/smart-devicetrees.html">Smart Devicetrees</a>
    </li>
  
    <li>
      <a href="/news/2015/02/02/devicetree-on-modbus.html">Device Tree on Modbus</a>
    </li>
  
    <li>
      <a href="/news/2015/02/01/devicetree-lifecycle.html">Device Tree and Product Life Cycles</a>
    </li>
  
    <li>
      <a href="/news/2015/01/29/devicetree-overlays.html">Device Tree Overlays</a>
    </li>
  
    <li>
      <a href="/news/2015/01/28/devicetree-overview.html">Device Tree Overview</a>
    </li>
  
    <li>
      <a href="/news/2015/01/27/sensor-abilities.html">Sense and Sensor Abilities</a>
    </li>
  
    <li>
      <a href="/news/2015/01/25/the-blob.html">The BLOB - Binary Level OBjects</a>
    </li>
  
    <li>
      <a href="/news/2015/01/23/the-great-chain.html">Automatic Configuration Chains</a>
    </li>
  
    <li>
      <a href="/news/2015/01/22/SFF-SelfConfig.html">Small Form Factor Auto-Configuration</a>
    </li>
  
    <li>
      <a href="/news/2013/12/26/Hula-Poppy-Lure-minnow-board.html">Hula Poppy Lure for MinnowBoard</a>
    </li>
  
    <li>
      <a href="/news/2013/12/24/minnow-board-lures.html">MinnowBoard Lures Library</a>
    </li>
  
    <li>
      <a href="/news/2013/12/02/touchwidget-best-practices.html">Touch Widgets - Best Practices</a>
    </li>
  
    <li>
      <a href="/news/2013/11/29/touch-widgets-howto.html">Touch Widgets How-To/Instructions</a>
    </li>
  
    <li>
      <a href="/news/2013/11/24/eagle-touch-widgets-library.html">Touch Widgets Library for Eagle</a>
    </li>
  
    <li>
      <a href="/news/2013/11/20/capacitive-sensing-introduction.html">Capacitance Sensing Introduction</a>
    </li>
  
    <li>
      <a href="/news/2013/11/14/building-your-new-widget.html">Building Your New Widget</a>
    </li>
  
    <li>
      <a href="/news/2013/11/11/eaglecad-libraries.html">EagleCAD Libraries</a>
    </li>
  
    <li>
      <a href="/news/2013/11/09/quattrocycle-update.html">Quattrocycle Lighting Update</a>
    </li>
  
    <li>
      <a href="/news/2013/09/13/portland-maker-faire.html">Portland Mini-Maker Faire</a>
    </li>
  
</ul>


  </div>

</main>
   

<form id="signup"
      action="http://patternagents.us5.list-manage.com/subscribe/post?u=d606135278a28bf2e4504c9ef&id=34ecdcaa40"
      method="post"
      id="mc-embedded-subscribe-form"
      name="mc-embedded-subscribe-form"
      class="validate"
      target="_blank"
      novalidate>
  <div class="row"><div class="col">
    
  <div class="row collapse">
      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <button class="postfix" type="submit">Subscribe</button>
  </div>
  </div></div>
</form>
   <!-- Add the discussion widget -->
   

<!-- discus panel -->
<!-- place "comments: true" in the YAML front matter to enable comments in that page -->

<div class="panel" id="disqus_thread"></div>

   

<footer>
  <div class="row">
    <div class="col half">
      <div class="row">
        <div class="col quarter">
          <ul class="social-icons">
           <li><a href="https://twitter.com/PatternAgents" title="twitter"><img src="/img/logos/white/twitter.png"></a></li>
            <li><a href="https://github.com/PatternAgents" title="github"><img src="/img/logos/white/github.png"></a></li>
            <li><a href="http://www.linkedin.com/company/3092259" title="linkedin"><img src="/img/logos/white/linkedin.png"></a></li>
            <li><a href="https://www.facebook.com/pages/PatternAgents/" title="facebook"><img src="/img/logos/white/facebook.png"></a></li>
            <li><a href="http://pinterest.com/patternagents" title="pinterest"><img src="/img/logos/white/pinterest.png"></a></li>
          </ul>
        </div>
        <div class="col quarter">
            <h2><a href="/contact/index.html">Contact</a></h2>
            <ul>
              <li><a href="/contact/press.html">Press</a></li>
              <li><a href="/contact/investors.html">Investors</a></li>
              <li><a href="/licensing/index.html">Licensing</a></li>
              <li><a href="/contact/credits.html">Credits</a></li>
            </ul>
        </div>
      </div>
    </div>
    <div class="col half">
      <div class="row">
        <div class="col quarter">
          <h2><a href="/about/index.html">About Us</a></h2>
          <ul>
            <li><a href="/about/manufacturers.html">For Manufacturers</a></li>
            <li><a href="/about/distributors.html">For Distributors</a></li>
            <li><a href="/about/representatives.html">For Representatives</a></li>
          </ul>
        </div>
        <div class="col quarter">
          <h2><a href="/policies/index.html">Policies</a></h2>
          <ul>
            <li><a href="/policies/shipping.html">Shipping</a></li>
            <li><a href="/policies/returns.html">Returns</a></li>
            <li><a href="/policies/legal/index.html">Legal</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row unimportant">
    <div class="col quarter"><p>Copyright &copy; 2010-2015 PatternAgents</p></div>
  </div>
</footer>

<script src="/js/lib/jquery.js"></script>


<!-- disqus widget script -->
<script type="text/javascript">
  var disqus_shortname = 'patternagents';
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- pinterest widget script -->
<script type="text/javascript">
(function(d){
  var f = d.getElementsByTagName('SCRIPT')[0], p = d.createElement('SCRIPT');
  p.type = 'text/javascript';
  p.async = true;
  p.setAttribute('data-pin-color', 'red');
  p.setAttribute('data-pin-hover', 'true');
  p.src = '//assets.pinterest.com/js/pinit.js';
  f.parentNode.insertBefore(p, f);
}(document));
</script>
<!-- toggle menu -->
<script>
  $(function() {
    var $navToggle = $('nav.toggle');
    $navToggle.addClass('collapsed');
    $navToggle.find('h2').bind('click focus', function() {
      // if we want to get fancy, we can animate the max-height here
      $navToggle.toggleClass('collapsed');
    });
  });
</script>




  






</body>
</html>
