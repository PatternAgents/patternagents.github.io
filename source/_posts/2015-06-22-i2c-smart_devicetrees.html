---
layout: project
category: project
title: "I2C EEPROM Emulation for Smart Devicetrees"
permalink: /projects/I2C_Devicetree.html
product_slug: I2C_Devicetree
product_img: I2C_Devicetree_thumb.png
product_id: 00000001
product_display: false
product_price: "$0"
product_name: I2C_Devicetree
licensing: true
cc_by_nc_sa: true
meta:
  robots: "noodp, noydir, noarchive"
  description: "I2C_Devicetree - I2C EEPROM Emulation for Smart Devicetrees"
  abstract: "I2C_Devicetree - I2C EEPROM Emulation for Smart Devicetrees"
  keywords: "arduino, iot, internet of things, lcd, lcd controller, uno, mega, due, psoc, psoc1, psoc3, psoc4, psoc5, cypress, cpm, cpld, fpga"
comments: true
---

<p>
The I2C_Devicetree reference design project uses a programmable System-on-Chip (SoC) with a Cortex-M0 CPU,  in a small 28 Pin TSSOP package,
to emulate an I2C EEPROM using the FLASH memory of the SoC, which creates an "intelligent memory" device. The I2C_Devicetree reference design project is intended to make it easier for people to create their own custom expansion boards for Beaglebone, Raspberry Pi, FMC/IPMI,  
and other platforms that require the use of a I2C EEPROM for automatic product identification, pin mapping, and configuration.    
</p>
<!-- more -->
Consider a typical development situation, using something like a Beaglebone Black,
where you have a main CPU/SoC board, and several expansion boards (i.e. "Capes") attached.
In order to support the <a href="http://www.devicetree.org/">Devicetree</a> 
configuration, each expansion board ("Cape") will contain a small I2C EEPROM 
that holds the <a href="http://www.devicetree.org/">Devicetree</a> 
data structure (i.e. the overlay). This is a fairly common configuration, 
and it doesn't really matter what the Cape function is for this discussion, it could be a peripheral 
like an LCD display, Wi-Fi Radio, Motor Controller, Sensor Hub, etc. We are interested here in
describing their interconnections, as shown by the block diagram below :
</p>
<p>
<img src="{{site.url.images}}/news/devicetree/soc-block-diagram.png" alt="SoC Simplified Block Diagram" title="SoC Simplified Block Diagram"/>
</p>
<p>
As you can see in the above block diagram, the "orange" colored blocks represent the connections on the 
<a href="http://en.wikipedia.org/wiki/I%C2%B2C">I2C</a> bus that will be used to read the 
Devicetree data structures (i.e. the Overlays) for each expansion board (i.e. Cape/Shield/Plate),
in order to determine their make and model, and how they are interfaced and connected.
</p>
<p>
The I2C_Devicetree reference design project uses a programmable System-on-Chip (SoC), to replace the I2C EEPROM's in the above diagram,
and adds some basic interface capability in the process. The I2C_Devicetree reference design project also includes an I2C I/O Expander to provide extra GPIO pins that are I2C controlled, and dual UARTS for host and peripheral serial bridge operations.
</p>
<h3>{{page.product_slug}} Features:</h3>
<ul>
  <li>Programmable System-on-Chip</li>
  <li>28 Pin TSSOP Package</li>
  <li>I2C EEPROM Emulation (32kb - 512kb)</li>
  <li>Programmable I2C Address</li>
  <li>I2C I/O Expander Function</li>
  <li>Dual (2) UARTS (Host & Slave devices at different baud rates)</li>
  <li>Support for LED status indictors</li>
</ul>

<p>
</p>

<h3>About {{page.product_slug}}:</h3>
  <p>
   The I2C_Devicetree reference design project creates an "intelligent memory" device 
by using a microprocessor to emulate a "dumb" I2C EEPROM memory chip. New peripherals
for small computers based on the Linux Operating System, such as Beagebone Black "Capes",
Raspberry Pi "Hats", and others require a small I2C memory device to be included that holds
configuration data about that peripheral. This configuration "meta-data" includes things
such as the product make, model, and serial number, and more. The I2C_Devicetree reference design project
gives a template design for an "intelligent memory" device, which also includes a GPIO expander and 
bridge communications functions, including UART(s) and other interfaces for a high level of integration.
  </p>
<p>
<img src="{{site.url.images}}/projects/I2C_Devicetree/I2C_Devicetree_model.png" alt="I2C_Devicetree Simplified Block Diagram" title="I2C_Devicetree Simplified Block Diagram"/>
</p>
  <p>
<h3>{{page.product_slug}} Application Examples:</h3>
<ul>
  <li>Beaglebone Black "Cape"</li>
  <li>Raspberry Pi "Hat"</li>
  <li>FPGA Mezzanine Bus Connector "FMC"</li>
  <li>Intelligent Peripheral Manangment Interface "IPMI" </li> 
  <li>ThingSoC "Socket"</li> 
</ul>
</p>

<p>
</p>

<h3>More Info</h3>
<ul>
  <li>I2C_Devicetree is an open source hardware (OSHW) project.</li>
  <li>The User simply changes a project define to select the output EEPROM format.</li>
  <li>Beaglebone, RaspPi, IPMI/FMC, and Custom EEPROM formats supported.</li>
</ul>

<p>
</p>

<h3>Status</h3>
<ul>
  <li>6/2015 Early Access - Version 0.1
      <BR>Note : 
      <BR>Version 0.1 only supports IPMI FRU EEPROM format (FMC/IPMI)
      <BR>Version 0.2 adds support for Beaglebone Black Cape EEPROM format
      <BR>Version 0.3 adds support for Raspberry Pi HAT EEPROM format
      <BR>Version 0.4 adds support for Flattened Devicetree (FDT) format    
  </li>
  <li>7/2015 Beta Schedule depends directly on User/Vendor Interest and Support.
  </li>
</ul>

<p>
User Interest and feedback on this project will determine it's support level and priority.
If you are interested in using it, please leave comments or email us.
</p>

<h3>About PatternAgents</h3>
{% include frag/blurb.html %}

